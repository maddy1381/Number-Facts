<!DOCTYPE html>
<html lang="en">
<head>
     <meta charset="UTF-8">
     <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">

     <title>Number Facts</title>

     <style>
          #fact{
               display: none;
          }
     </style>
</head>
<body class="bg-dark">
     <div class="container">
          <div class="row">
               <div class="col-md-6 mx-auto">
                    <div class="card bg-primary text-white mt-5 p-4">
                         <h1>Number Facts</h1>
                         <p>Enter a Number and get a random fact</p>
                         <input type="nunber" class="form-control form-control-lg" id="numberInput" placeholder="Enter any Number">
                         <div id="fact" class="card-body">
                              <h4 class="card-title">Number Fact</h4>
                              <p id="factText" class="card-text"></p>
                         </div>
                    </div>
               </div>
          </div>
     </div>
     
     <script>
          let fact = document.querySelector('#fact');
          let factText = document.querySelector('#factText');

          let numberInput = document.querySelector('#numberInput');
          numberInput.addEventListener('input', getFactFetch);

          // function getFactAjax(){
          //      let number = numberInput.value;

          //      let xhr = new XMLHttpRequest();

          //      xhr.open('GET', `http://numbersapi.com/${number}`, true);

          //      xhr.onload = function(){
          //           if(this.status === 200 && number != ''){
          //                fact.style.display = 'block';
          //                factText.innerText = this.responseText;
          //           }
          //      }

          //      xhr.send();
          // }

          function getFactFetch(){
               let number = numberInput.value;

               fetch(`http://numbersapi.com/${number}`)
               .then(response => response.text())
               .then(data => {
                    if(number != ''){
                         fact.style.display = 'block';
                         factText.innerText = data;
                    }
               })
               .catch(err => console.log(err))
          }

     </script>

</body>
</html>